{"ast":null,"code":"import \"antd/es/row/style\";\nimport _Row from \"antd/es/row\";\nimport \"antd/es/col/style\";\nimport _Col from \"antd/es/col\";\nimport \"antd/es/spin/style\";\nimport _Spin from \"antd/es/spin\";\nimport \"antd/es/card/style\";\nimport _Card from \"antd/es/card\";\nimport \"antd/es/form/style\";\nimport _Form from \"antd/es/form\";\nimport _slicedToArray from \"C:\\\\Users\\\\PIONEER\\\\Documents\\\\projects\\\\srabonti-sample-react-java\\\\srabonti-sample-ui\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\PIONEER\\\\Documents\\\\projects\\\\srabonti-sample-react-java\\\\srabonti-sample-ui\\\\src\\\\components\\\\public\\\\login\\\\LoginPage.js\";\n\nimport * as React from 'react';\nimport { useEffect, useState } from 'react';\nimport { FormattedMessage } from \"react-intl\";\nimport { withCookies } from \"react-cookie\";\nimport { useIntl } from 'react-intl';\nimport { LockOutlined, UserOutlined } from 'antd/lib/icon';\nimport useApi from '../../../hooks/useApi';\nimport * as PortalConstants from \"../../../utility/constants\";\nimport * as gfunctions from \"../../../utility/generalFunctions\";\nimport './LoginPage.less';\n\nvar LoginPage = function LoginPage(props) {\n  var intl = useIntl();\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      hasLoginError = _useState2[0],\n      setHasLoginError = _useState2[1];\n\n  var _useApi = useApi(\"users\", null, PortalConstants.APIMETHODS.POST),\n      _useApi2 = _slicedToArray(_useApi, 2),\n      authenticateResponse = _useApi2[0],\n      authenticateRequest = _useApi2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      loading = _useState4[0],\n      setLoading = _useState4[1];\n\n  var _Form$useForm = _Form.useForm(),\n      _Form$useForm2 = _slicedToArray(_Form$useForm, 1),\n      form = _Form$useForm2[0];\n\n  var showDashBoard = function showDashBoard(userInfo) {\n    gfunctions.setAuthenticationTokens(userInfo, props.cookies);\n    var authToken = props.cookies.get(PortalConstants.AUTH_TOKEN);\n\n    if (authToken !== undefined && authToken.length > 1) {\n      props.history.push(\"/home/playlists\");\n    }\n  };\n\n  useEffect(function () {//sgfunctions.setAuthenticationTokens(props.userInfo, props.cookies); \n  });\n  useEffect(function () {\n    setLoading(false);\n\n    if (authenticateResponse.data && !authenticateResponse.error && !authenticateResponse.isLoading) {\n      showDashBoard(authenticateResponse.data);\n    } else if (authenticateResponse.error && !authenticateResponse.data && !authenticateResponse.isLoading) {\n      setHasLoginError(true);\n    }\n  }, [authenticateResponse]);\n\n  var handleSubmit = function handleSubmit(values) {\n    var request = {};\n    request.username = values.username;\n    request.password = values.password;\n    setHasLoginError(false);\n    setLoading(true);\n    authenticateRequest(request, PortalConstants.APIMETHODS.POST);\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(_Row, {\n    type: \"flex\",\n    style: {\n      minHeight: 750\n    },\n    justify: \"center\",\n    align: \"middle\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(_Col, {\n    xs: 24,\n    sm: 20,\n    md: 16,\n    lg: 12,\n    xl: 8,\n    align: \"middle\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(_Spin, {\n    size: \"large\",\n    spinning: loading,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(_Card, {\n    bordered: false,\n    className: \"loginContainer\",\n    style: {\n      top: \"50%\",\n      minHeight: \"440px\",\n      height: \"auto\",\n      padding: \"10px 20px 0px\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    style: {\n      fontSize: \"24px\",\n      textAlign: \"center\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 15\n    }\n  }, \"To continue, please sign in below\"))))));\n};\n\nexport default withCookies(LoginPage);","map":{"version":3,"sources":["C:/Users/PIONEER/Documents/projects/srabonti-sample-react-java/srabonti-sample-ui/src/components/public/login/LoginPage.js"],"names":["React","useEffect","useState","FormattedMessage","withCookies","useIntl","LockOutlined","UserOutlined","useApi","PortalConstants","gfunctions","LoginPage","props","intl","hasLoginError","setHasLoginError","APIMETHODS","POST","authenticateResponse","authenticateRequest","loading","setLoading","useForm","form","showDashBoard","userInfo","setAuthenticationTokens","cookies","authToken","get","AUTH_TOKEN","undefined","length","history","push","data","error","isLoading","handleSubmit","values","request","username","password","minHeight","top","height","padding","fontSize","textAlign"],"mappings":"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","sourcesContent":[" \nimport * as React from 'react';\nimport { useEffect, useState } from 'react'; \nimport { FormattedMessage } from \"react-intl\";\nimport { withCookies } from \"react-cookie\"; \nimport { useIntl } from 'react-intl'; \nimport {LockOutlined, UserOutlined} from 'antd/lib/icon';\nimport { Card, Button, Input, Row, Col, Spin, Form } from \"antd\";\nimport useApi from '../../../hooks/useApi'; \nimport * as PortalConstants from \"../../../utility/constants\";\nimport * as gfunctions from \"../../../utility/generalFunctions\";\nimport './LoginPage.less';\n  \nconst LoginPage =(props)=> {\n\n  const intl = useIntl(); \n   const [hasLoginError, setHasLoginError]  = useState(false);\n   const  [authenticateResponse, authenticateRequest] = useApi(\"users\", null,PortalConstants.APIMETHODS.POST);\n   const [loading, setLoading] = useState(false);\n   const [form] =Form.useForm(); \n\n  const showDashBoard = (userInfo) => {\n    gfunctions.setAuthenticationTokens(userInfo, props.cookies);\n    let authToken =  props.cookies.get(PortalConstants.AUTH_TOKEN);\n    if (authToken !== undefined && authToken.length > 1) {\n      props.history.push(\"/home/playlists\");\n    }\n  }\n\n  useEffect(() => {\n    //sgfunctions.setAuthenticationTokens(props.userInfo, props.cookies); \n  });\n \n\n  useEffect(() => {\n    setLoading(false);\n    if(authenticateResponse.data && !authenticateResponse.error && !authenticateResponse.isLoading){\n      showDashBoard(authenticateResponse.data); \n    }\n    else if(authenticateResponse.error && !authenticateResponse.data && !authenticateResponse.isLoading){\n      setHasLoginError(true);\n    }\n  }, [authenticateResponse]);\n \n  const handleSubmit = (values) => {\n    let request={};\n    request.username=values.username;\n    request.password = values.password;\n    setHasLoginError(false);\n    setLoading(true);\n    authenticateRequest(request, PortalConstants.APIMETHODS.POST); \n  };\n\n  return ( \n    <>\n      <Row\n        type=\"flex\"\n        style={{ minHeight: 750 }}\n        justify=\"center\"\n        align=\"middle\" >\n         \n        <Col xs={24} sm={20} md={16} lg={12} xl={8} align=\"middle\">\n          <Spin  size=\"large\" spinning={loading} >\n            <Card\n              bordered={false}\n              className=\"loginContainer\"\n              style={{\n                top: \"50%\",\n                minHeight: \"440px\",\n                height: \"auto\",\n                padding: \"10px 20px 0px\"\n              }}\n            >\n              <h5 style={{ fontSize: \"24px\", textAlign: \"center\" }}>\n                 To continue, please sign in below\n              </h5>\n              \n            </Card>\n          </Spin>\n        </Col> \n      </Row>\n   </>    \n  );\n} \n\nexport default withCookies(LoginPage);\n"]},"metadata":{},"sourceType":"module"}