{"ast":null,"code":"import \"antd/es/spin/style\";\nimport _Spin from \"antd/es/spin\";\nimport _classCallCheck from \"C:\\\\Users\\\\PIONEER\\\\Documents\\\\projects\\\\srabonti-sample-react-java\\\\srabonti-sample-ui\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\PIONEER\\\\Documents\\\\projects\\\\srabonti-sample-react-java\\\\srabonti-sample-ui\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _inherits from \"C:\\\\Users\\\\PIONEER\\\\Documents\\\\projects\\\\srabonti-sample-react-java\\\\srabonti-sample-ui\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _createSuper from \"C:\\\\Users\\\\PIONEER\\\\Documents\\\\projects\\\\srabonti-sample-react-java\\\\srabonti-sample-ui\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"C:\\\\Users\\\\PIONEER\\\\Documents\\\\projects\\\\srabonti-sample-react-java\\\\srabonti-sample-ui\\\\src\\\\App.js\";\nimport React, { Component } from 'react';\nimport './App.css';\nimport { Switch, Route } from 'react-router-dom';\nimport MusicManager from './components/public/MusicManager';\nimport AuthenticatedRoute from './components/AuthenticatedRoute';\nimport Home from './components/private/Home/Home';\nimport { IntlProvider } from \"react-intl\"; //potential for ue for internationalization\n\nimport messages_en from './locales/en/common.json';\nimport flatten from 'flat';\nimport { withCookies } from 'react-cookie';\nimport * as PortalConstants from './utility/constants';\nimport _ from 'lodash';\nimport { LoadingOutlined } from '@ant-design/icons';\n\n//TO Show extensible support of internationalization\n//support for older browsers e.g IE11, Edge & Safari 13\nif (!Intl.RelativeTimeFormat) {\n  require('@formatjs/intl-relativetimeformat/polyfill');\n\n  require('@formatjs/intl-relativetimeformat/dist/locale-data/en');\n}\n\nvar spinIcon = /*#__PURE__*/React.createElement(LoadingOutlined, {\n  style: {\n    fontSize: 24\n  },\n  spin: true,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 18\n  }\n});\nvar i18nConfig = {\n  locale: 'en',\n  messages: messages_en\n};\n\nfunction getAuthToken(props) {\n  if (props.userInfo === undefined) {\n    return props.cookies.get(PortalConstants.AUTH_TOKEN);\n  }\n\n  if (props.userInfo.token !== undefined && props.userInfo.token.accessToken.length > 1) return props.userInfo.token.accessToken;\n  return props.cookies.get(PortalConstants.AUTH_TOKEN);\n}\n\nvar App = /*#__PURE__*/function (_Component) {\n  _inherits(App, _Component);\n\n  var _super = _createSuper(App);\n\n  function App() {\n    _classCallCheck(this, App);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(App, [{\n    key: \"onChangeLanguage\",\n    value: function onChangeLanguage(lang) {\n      switch (lang) {\n        case 'en':\n          i18nConfig.messages = flatten(messages_en);\n          break;\n\n        default:\n          i18nConfig.messages = flatten(messages_en);\n          break;\n      }\n\n      this.setState({\n        locale: lang\n      });\n      i18nConfig.locale = lang;\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {}\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      _Spin.setDefaultIndicator(spinIcon);\n\n      var authToken = this.props.cookies.get(PortalConstants.AUTH_TOKEN);\n\n      if (authToken && authToken.length > 1 && this.props.location.pathname.includes(\"musicmanager/login\")) {\n        this.props.history.push(\"/home/playlists\");\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var portalName = this.props.nextState ? this.props.nextState.clientConfig.clientData.appName : null;\n      return /*#__PURE__*/React.createElement(IntlProvider, {\n        key: i18nConfig.locale,\n        locale: i18nConfig.locale,\n        messages: i18nConfig.messages,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          height: \"auto\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Switch, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Route, {\n        path: \"/musicmanager\",\n        component: MusicManager,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 13\n        }\n      }), portalName && /*#__PURE__*/React.createElement(AuthenticatedRoute, {\n        path: \"/home\",\n        props: {\n          authToken: getAuthToken(this.props)\n        },\n        component: Home,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 15\n        }\n      }), /*#__PURE__*/React.createElement(Route, {\n        path: \"/error\",\n        component: Error,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 13\n        }\n      }))));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default withCookies(App);","map":{"version":3,"sources":["C:/Users/PIONEER/Documents/projects/srabonti-sample-react-java/srabonti-sample-ui/src/App.js"],"names":["React","Component","Switch","Route","MusicManager","AuthenticatedRoute","Home","IntlProvider","messages_en","flatten","withCookies","PortalConstants","_","LoadingOutlined","Intl","RelativeTimeFormat","require","spinIcon","fontSize","i18nConfig","locale","messages","getAuthToken","props","userInfo","undefined","cookies","get","AUTH_TOKEN","token","accessToken","length","App","lang","setState","setDefaultIndicator","authToken","location","pathname","includes","history","push","portalName","nextState","clientConfig","clientData","appName","height","Error"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './App.css';\nimport { Switch, Route } from 'react-router-dom'\nimport MusicManager from './components/public/MusicManager'\nimport AuthenticatedRoute from './components/AuthenticatedRoute'\nimport Home from './components/private/Home/Home'\nimport { IntlProvider } from \"react-intl\";//potential for ue for internationalization\nimport messages_en from './locales/en/common.json' \n \nimport flatten from 'flat';\nimport { withCookies } from 'react-cookie';\nimport * as PortalConstants from './utility/constants';\nimport _ from 'lodash'; \nimport { LoadingOutlined } from '@ant-design/icons';\nimport { Spin } from 'antd';\n\n//TO Show extensible support of internationalization\n//support for older browsers e.g IE11, Edge & Safari 13\nif (!Intl.RelativeTimeFormat) {\n  \n  require('@formatjs/intl-relativetimeformat/polyfill');\n  require('@formatjs/intl-relativetimeformat/dist/locale-data/en');\n \n}\n\nconst spinIcon = <LoadingOutlined style={{ fontSize: 24 }} spin />;\n\nlet i18nConfig = {\n  locale: 'en',\n  messages: messages_en\n};\n \n\nfunction getAuthToken(props) {\n  if (props.userInfo === undefined) {\n    return props.cookies.get(PortalConstants.AUTH_TOKEN);\n  }\n\n  if (props.userInfo.token !== undefined && props.userInfo.token.accessToken.length > 1)\n    return props.userInfo.token.accessToken;\n  return props.cookies.get(PortalConstants.AUTH_TOKEN);\n}\n\n\n\nclass App extends Component {\n\n  onChangeLanguage(lang) {\n    switch (lang) { \n      case 'en': i18nConfig.messages = flatten(messages_en); break; \n      default: i18nConfig.messages = flatten(messages_en); break;\n    }\n    this.setState({ locale: lang });\n    i18nConfig.locale = lang;\n  }\n\n  componentDidUpdate() {\n    \n  }\n\n\n\n  componentDidMount() {\n    Spin.setDefaultIndicator(spinIcon);\n    \n    \n    let authToken = this.props.cookies.get(PortalConstants.AUTH_TOKEN);\n    if (authToken && authToken.length > 1 && this.props.location.pathname.includes(\"musicmanager/login\")) {\n      this.props.history.push(\"/home/playlists\");\n    } \n \n  }\n\n  \n  render() {\n    const portalName = this.props.nextState ? this.props.nextState.clientConfig.clientData.appName : null;\n    return (\n      <IntlProvider key={i18nConfig.locale} locale={i18nConfig.locale} messages={i18nConfig.messages}>\n        <div style={{ height: \"auto\" }}>\n          <Switch>\n            <Route path=\"/musicmanager\" component={MusicManager} />\n            {portalName &&\n              <AuthenticatedRoute path=\"/home\"\n                props=\n                {{ authToken: getAuthToken(this.props) }} component={Home} />\n            }\n            <Route path=\"/error\" component={Error} />\n          </Switch>\n        </div>\n      </IntlProvider>\n    );\n  }\n}\n\n\n\nexport default withCookies((App));\n"]},"metadata":{},"sourceType":"module"}