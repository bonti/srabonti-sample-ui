{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\PIONEER\\\\Documents\\\\projects\\\\srabonti-sample-react-java\\\\srabonti-sample-ui\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport \"antd/es/spin/style\";\nimport _Spin from \"antd/es/spin\";\nimport _classCallCheck from \"C:\\\\Users\\\\PIONEER\\\\Documents\\\\projects\\\\srabonti-sample-react-java\\\\srabonti-sample-ui\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\PIONEER\\\\Documents\\\\projects\\\\srabonti-sample-react-java\\\\srabonti-sample-ui\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _inherits from \"C:\\\\Users\\\\PIONEER\\\\Documents\\\\projects\\\\srabonti-sample-react-java\\\\srabonti-sample-ui\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _createSuper from \"C:\\\\Users\\\\PIONEER\\\\Documents\\\\projects\\\\srabonti-sample-react-java\\\\srabonti-sample-ui\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"C:\\\\Users\\\\PIONEER\\\\Documents\\\\projects\\\\srabonti-sample-react-java\\\\srabonti-sample-ui\\\\src\\\\App.js\";\nimport React, { Component } from 'react';\nimport './App.css';\nimport { Switch, Route } from 'react-router-dom';\nimport EnterpriseAccount from './components/public/EnterpriseAccount';\nimport AuthenticatedRoute from './components/AuthenticatedRoute';\nimport queryString from 'query-string';\nimport { connectAdvanced } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport * as clientConfigActions from './actions/clientConfigActions';\nimport * as clientInfoHelpers from './utility/clientInfoHelpers';\nimport { IntlProvider } from \"react-intl\"; //potential for ue for internationalization\n\nimport messages_en from './locales/en/common.json';\nimport { isNullOrUndefined } from 'util';\nimport flatten from 'flat';\nimport { withCookies } from 'react-cookie';\nimport * as PortalConstants from './utility/constants';\nimport TagManager from 'react-gtm-module';\nimport _ from 'lodash';\nimport CCBLayout from './components/common/CCBLayout';\nimport P2CLayout from './components/common/P2CLayout';\nimport { LoadingOutlined } from '@ant-design/icons';\n\n//support for older browsers e.g IE11, Edge & Safari 13\nif (!Intl.RelativeTimeFormat) {\n  require('@formatjs/intl-relativetimeformat/polyfill');\n\n  require('@formatjs/intl-relativetimeformat/dist/locale-data/en');\n\n  require('@formatjs/intl-relativetimeformat/dist/locale-data/es');\n\n  require('@formatjs/intl-relativetimeformat/dist/locale-data/vi');\n}\n\nvar spinIcon = /*#__PURE__*/React.createElement(LoadingOutlined, {\n  style: {\n    fontSize: 24\n  },\n  spin: true,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 18\n  }\n});\nvar i18nConfig = {\n  locale: 'en',\n  messages: messages_en\n};\n\nfunction getClientNameForQueryParam(location) {\n  var params = queryString.parse(location.search);\n  return params.connectName;\n}\n\nfunction getAuthToken(props) {\n  if (props.userInfo === undefined) {\n    return props.cookies.get(PortalConstants.AUTH_TOKEN);\n  }\n\n  if (props.userInfo.token !== undefined && props.userInfo.token.accessToken.length > 1) return props.userInfo.token.accessToken;\n  return props.cookies.get(PortalConstants.AUTH_TOKEN);\n}\n\nvar App = /*#__PURE__*/function (_Component) {\n  _inherits(App, _Component);\n\n  var _super = _createSuper(App);\n\n  function App() {\n    _classCallCheck(this, App);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(App, [{\n    key: \"onChangeLanguage\",\n    value: function onChangeLanguage(lang) {\n      switch (lang) {\n        case 'es':\n          i18nConfig.messages = flatten(messages_es);\n          break;\n\n        case 'en':\n          i18nConfig.messages = flatten(messages_en);\n          break;\n\n        case 'vi':\n          i18nConfig.messages = flatten(messages_vi);\n          break;\n\n        default:\n          i18nConfig.messages = flatten(messages_en);\n          break;\n      }\n\n      this.setState({\n        locale: lang\n      });\n      i18nConfig.locale = lang;\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {}\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      _Spin.setDefaultIndicator(spinIcon);\n\n      var authToken = this.props.cookies.get(PortalConstants.AUTH_TOKEN);\n\n      if (authToken && authToken.length > 1 && this.props.location.pathname.includes(\"musicmanager/login\")) {\n        this.props.history.push(\"/home\");\n      }\n    }\n  }, {\n    key: \"loadClient\",\n    value: function loadClient() {\n      this.props.actions.loadClientConfig(this.props.config);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var portalName = this.props.nextState ? this.props.nextState.clientConfig.clientData.appName : null;\n      return /*#__PURE__*/React.createElement(IntlProvider, {\n        key: i18nConfig.locale,\n        locale: i18nConfig.locale,\n        messages: i18nConfig.messages,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          height: \"auto\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Switch, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Route, {\n        path: \"/musicmanager\",\n        component: MusicManager,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 13\n        }\n      }), portalName && /*#__PURE__*/React.createElement(AuthenticatedRoute, {\n        path: \"/home\",\n        props: {\n          authToken: getAuthToken(this.props)\n        },\n        component: portalName === PortalConstants.CCB_PORTAL ? CCBLayout : P2CLayout,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 15\n        }\n      }), /*#__PURE__*/React.createElement(Route, {\n        path: \"/error\",\n        component: Error,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 13\n        }\n      }))));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nfunction selectorFactory(dispatch) {\n  var ownProps = {};\n  var result = {};\n  var actions = bindActionCreators(clientConfigActions, dispatch);\n  ownProps.actions = actions;\n  return function (nextState, nextOwnProps) {\n    var params = queryString.parse(nextOwnProps.location.search);\n    var cookies = nextOwnProps.cookies;\n    var shouldLoadClient = clientInfoHelpers.shouldLoadClient(params, nextOwnProps.location, nextState, cookies);\n\n    if (shouldLoadClient !== true) {\n      var cachedResult = _objectSpread(_objectSpread({}, nextOwnProps), {}, {\n        nextState: nextState,\n        loadConfig: shouldLoadClient.loadConfig\n      });\n\n      return cachedResult;\n    }\n\n    var config = clientInfoHelpers.createClientConfig(params, cookies);\n    var userInfo = {};\n\n    if (nextState.authentication && nextState.authentication.userInfo) {\n      userInfo = nextState.authentication.userInfo;\n    }\n\n    var nextResult = _objectSpread(_objectSpread({}, nextOwnProps), {}, {\n      config: config,\n      userInfo: userInfo\n    });\n\n    if (!nextOwnProps.actions) {\n      nextResult = _objectSpread(_objectSpread({}, nextResult), {}, {\n        actions: actions\n      });\n    }\n\n    if (result !== nextResult) {\n      result = nextResult;\n    }\n\n    return result;\n  };\n}\n\nexport default withCookies(connectAdvanced(selectorFactory)(App));","map":{"version":3,"sources":["C:/Users/PIONEER/Documents/projects/srabonti-sample-react-java/srabonti-sample-ui/src/App.js"],"names":["React","Component","Switch","Route","EnterpriseAccount","AuthenticatedRoute","queryString","connectAdvanced","bindActionCreators","clientConfigActions","clientInfoHelpers","IntlProvider","messages_en","isNullOrUndefined","flatten","withCookies","PortalConstants","TagManager","_","CCBLayout","P2CLayout","LoadingOutlined","Intl","RelativeTimeFormat","require","spinIcon","fontSize","i18nConfig","locale","messages","getClientNameForQueryParam","location","params","parse","search","connectName","getAuthToken","props","userInfo","undefined","cookies","get","AUTH_TOKEN","token","accessToken","length","App","lang","messages_es","messages_vi","setState","setDefaultIndicator","authToken","pathname","includes","history","push","actions","loadClientConfig","config","portalName","nextState","clientConfig","clientData","appName","height","MusicManager","CCB_PORTAL","Error","selectorFactory","dispatch","ownProps","result","nextOwnProps","shouldLoadClient","cachedResult","loadConfig","createClientConfig","authentication","nextResult"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './App.css';\nimport { Switch, Route } from 'react-router-dom'\nimport EnterpriseAccount from './components/public/EnterpriseAccount'\nimport AuthenticatedRoute from './components/AuthenticatedRoute'\nimport queryString from 'query-string'\nimport { connectAdvanced } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport * as clientConfigActions from './actions/clientConfigActions';\nimport * as clientInfoHelpers from './utility/clientInfoHelpers';\nimport { IntlProvider } from \"react-intl\";//potential for ue for internationalization\nimport messages_en from './locales/en/common.json' \nimport { isNullOrUndefined } from 'util';\nimport flatten from 'flat';\nimport { withCookies } from 'react-cookie';\nimport * as PortalConstants from './utility/constants';\nimport TagManager from 'react-gtm-module';\nimport _ from 'lodash';\nimport CCBLayout from './components/common/CCBLayout';\nimport P2CLayout from './components/common/P2CLayout';\nimport { LoadingOutlined } from '@ant-design/icons';\nimport { Spin } from 'antd';\n\n//support for older browsers e.g IE11, Edge & Safari 13\nif (!Intl.RelativeTimeFormat) {\n  require('@formatjs/intl-relativetimeformat/polyfill');\n  require('@formatjs/intl-relativetimeformat/dist/locale-data/en');\n  require('@formatjs/intl-relativetimeformat/dist/locale-data/es');\n  require('@formatjs/intl-relativetimeformat/dist/locale-data/vi');\n}\n\nconst spinIcon = <LoadingOutlined style={{ fontSize: 24 }} spin />;\n\nlet i18nConfig = {\n  locale: 'en',\n  messages: messages_en\n};\nfunction getClientNameForQueryParam(location) {\n  let params = queryString.parse(location.search);\n  return params.connectName;\n}\n\nfunction getAuthToken(props) {\n  if (props.userInfo === undefined) {\n    return props.cookies.get(PortalConstants.AUTH_TOKEN);\n  }\n\n  if (props.userInfo.token !== undefined && props.userInfo.token.accessToken.length > 1)\n    return props.userInfo.token.accessToken;\n  return props.cookies.get(PortalConstants.AUTH_TOKEN);\n}\n\n\n\nclass App extends Component {\n\n  onChangeLanguage(lang) {\n    switch (lang) {\n      case 'es': i18nConfig.messages = flatten(messages_es); break;\n      case 'en': i18nConfig.messages = flatten(messages_en); break;\n      case 'vi': i18nConfig.messages = flatten(messages_vi); break;\n      default: i18nConfig.messages = flatten(messages_en); break;\n    }\n    this.setState({ locale: lang });\n    i18nConfig.locale = lang;\n  }\n\n  componentDidUpdate() {\n    \n  }\n\n\n\n  componentDidMount() {\n    Spin.setDefaultIndicator(spinIcon);\n    \n    \n    let authToken = this.props.cookies.get(PortalConstants.AUTH_TOKEN);\n    if (authToken && authToken.length > 1 && this.props.location.pathname.includes(\"musicmanager/login\")) {\n      this.props.history.push(\"/home\");\n    }\n \n \n  }\n\n  loadClient() {\n    this.props.actions.loadClientConfig(this.props.config);\n  }\n\n  render() {\n    const portalName = this.props.nextState ? this.props.nextState.clientConfig.clientData.appName : null;\n    return (\n      <IntlProvider key={i18nConfig.locale} locale={i18nConfig.locale} messages={i18nConfig.messages}>\n        <div style={{ height: \"auto\" }}>\n          <Switch>\n            <Route path=\"/musicmanager\" component={MusicManager} />\n            {portalName &&\n              <AuthenticatedRoute path=\"/home\"\n                props=\n                {{ authToken: getAuthToken(this.props) }} component={portalName === PortalConstants.CCB_PORTAL ? CCBLayout : P2CLayout} />\n            }\n            <Route path=\"/error\" component={Error} />\n          </Switch>\n        </div>\n      </IntlProvider>\n    );\n  }\n}\n\n\nfunction selectorFactory(dispatch) {\n  let ownProps = {}\n  let result = {}\n\n  const actions = bindActionCreators(clientConfigActions, dispatch)\n  ownProps.actions = actions;\n  return (nextState, nextOwnProps) => {\n    let params = queryString.parse(nextOwnProps.location.search);\n    let cookies = nextOwnProps.cookies;\n\n    var shouldLoadClient = clientInfoHelpers.shouldLoadClient(params, nextOwnProps.location, nextState, cookies);\n    if (shouldLoadClient !== true) {\n      let cachedResult = { ...nextOwnProps, nextState, loadConfig: shouldLoadClient.loadConfig }\n      return cachedResult;\n    }\n\n    let config = clientInfoHelpers.createClientConfig(params, cookies);\n\n    let userInfo = {};\n    if (nextState.authentication && nextState.authentication.userInfo) {\n      userInfo = nextState.authentication.userInfo;\n    }\n    let nextResult = { ...nextOwnProps, config, userInfo }\n    if (!nextOwnProps.actions) {\n      nextResult = { ...nextResult, actions }\n    }\n\n    if (result !== nextResult) {\n      result = nextResult\n    }\n    return result\n  }\n}\nexport default withCookies(connectAdvanced(selectorFactory)(App));\n"]},"metadata":{},"sourceType":"module"}